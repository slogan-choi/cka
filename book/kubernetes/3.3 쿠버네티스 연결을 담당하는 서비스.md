# 쿠버네티스 연결을 담당하는 서비스
- 쿠버네티스 클러스터 내부에서 파드를 사용할 수 있다. 또한 외부 사용자가 파드를 이용하는 방법도 있다.
- `서비스`: 외부에서 쿠버네티스 클러스터에 접속하는 방법 (소비를 위한 도움을 제공한다는 관점)

## ✅ 가장 간단하게 연결하는 노드포트
`노드 포트` 서비스를 설정하면 모든 워커 노드의 특정 포트(노드포트)를 열고 여기로 오는 모든 요청을 노드포트 서비스로 전달한다.

### 노드포트 서비스로 외부에서 접속하기

```shell
# m-k8s at super putty
kubectl create deployment np-pods --images=synet4admin/echo-hname
kubectl get pods
kubectl create -f ~/BookInfra/ch3/3.3.1/nodeport.yaml
kubectl get services
kubectl get nodes -o wide
```

```http request
192.168.1.101 ~ 103
```

```yaml
apiVersion: v1
kind: Service
metadata:
  name: np-svc
spec:
  selector:
    app: np-pods 
  ports:
    - name: http
      protocol: TCP
      port: 80
      targetPort: 80
      nodePort: 30000
  type: NodePort
```

### 부하 분산 테스트하기
### expose 로 노드포트 서비스 생성하기

## ✅ 사용 목적별로 연결하는 인그레스
## ✅ 클라우드에서 쉽세 구성 가능한 로드밸런서
## ✅ 온프레미스에서 로드밸런서를 제공하는 MetalLB
## ✅ 부하에 따라 자동으로 파드 수를 조절하는 HPA

